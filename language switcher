<style>
/* Fixed in bottom-right */
.lang-fixed {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 9999;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
}

/* Language switcher button — semi-transparent by default */
.lang-dropbtn {
  background-color: rgba(244, 241, 237, 0.6);
  color: #d96f32;
  padding: 8px 16px;
  font-size: 14px;
  border: 1px solid #d96f32;
  border-radius: 16px;
  cursor: pointer;
  transition: background-color 0.2s, color 0.2s;
}

/* When menu is open, make it solid */
.lang-dropbtn.active {
  background-color: rgba(244, 241, 237, 1);
}

/* Dropdown container */
.lang-dropdown-content {
  display: none;
  position: absolute;
  right: 0;
  bottom: 40px;
  background-color: #f4f1ed;
  border: 1px solid #e0dcd7;
  min-width: 140px;
  max-width: 180px;
  overflow-y: auto;
  z-index: 10000;
  border-radius: 8px;
  padding: 4px 0;
}

/* Language links */
.lang-dropdown-content a {
  color: #d96f32;
  padding: 5px 10px;
  text-decoration: none;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  transition: background-color 0.2s, color 0.2s;
  word-break: break-word;
}

/* Hover effect */
.lang-dropdown-content a:hover {
  background-color: #d96f32;
  color: #fff;
}

.lang-dropdown-content a:hover span {
  color: #fff;
}
</style>

<!-- HTML -->
<div class="lang-fixed">
  <div class="lang-dropdown">
    <button class="lang-dropbtn">EN ▼</button>
    <div class="lang-dropdown-content" id="langMenu">
      <a href="/en"><span>EN</span><span>English</span></a>
      <a href="/de"><span>DE</span><span>Deutsch</span></a>
      <a href="/es"><span>ES</span><span>Español</span></a>
      <a href="/fr"><span>FR</span><span>Français</span></a>
      <a href="/it"><span>IT</span><span>Italiano</span></a>
      <a href="/pt"><span>PT</span><span>Português</span></a>
      <a href="/zh"><span>ZH</span><span>中文</span></a>
      <a href="/ru"><span>RU</span><span>Русский</span></a>
    </div>
  </div>
</div>

<!-- JS -->
<script>
function toggleLangMenu() {
  const menu = document.getElementById("langMenu");
  const arrowBlock = document.getElementById("rec1039812296");
  const btn = document.querySelector(".lang-dropbtn");

  const isOpen = menu.style.display === "block";
  menu.style.display = isOpen ? "none" : "block";

  // Manage button style
  if (btn) {
    btn.classList.toggle("active", !isOpen);
  }

  // Show/hide arrow block
  if (arrowBlock) {
    arrowBlock.style.display = isOpen ? "block" : "none";
  }
}

// Toggle on button click
document.querySelector(".lang-dropbtn").addEventListener("click", function(event) {
  event.stopPropagation();
  toggleLangMenu();
});

// Close on outside click and restore arrow + button state
document.addEventListener("click", function(e) {
  const menu = document.getElementById("langMenu");
  const btn = document.querySelector(".lang-dropbtn");
  const arrowBlock = document.getElementById("rec1039812296");

  if (!btn.contains(e.target) && !menu.contains(e.target)) {
    menu.style.display = "none";
    if (btn) btn.classList.remove("active");
    if (arrowBlock) arrowBlock.style.display = "block";
  }
});
</script>
